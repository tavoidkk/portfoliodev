---
import Badge from '../components/icons/Badge.astro';
import Pill from '../components/Pill.astro';
import LinkedInIcon from "../components/icons/LinkedIn.astro";
import GitHubIcon from "../components/icons/GitHub.astro";
import GmailIcon from "../components/icons/Gmail.astro";
import TimeLine from '../components/TimeLine.astro';
import TimelineItem from '../components/TimelineItem.astro';
import Projects from '../components/Projects.astro';
import { experiences } from './experiences.js';
import ExperienceIcon from './icons/Experience.astro';
import CodeIcon from './icons/Code.astro';
import About from './About.astro';
import PersonIcon from './icons/Person.astro';
---

<main class="px-4 md:px-6">
	<section class="project-animate opacity-0 translate-y-8 transition-all duration-700 w-full max-w-xl mx-auto py-8 md:py-12 lg:py-16">
		<img class="rounded-full size-16 md:size-20 mb-4" src="/icon.webp" alt="tavo-photo">
		
		<div class="flex flex-col sm:flex-row sm:items-center sm:flex-nowrap gap-x-4 gap-y-3 pb-5">
			<h1 class="text-white text-2xl md:text-3xl lg:text-4xl font-bold flex-1 min-w-0">
				Hello world!, soy Gustavo Vidal
			</h1>
			<a 
				href="https://www.linkedin.com/in/tavovidal"
				target="_blank" 
				rel="noopener noreferrer"
				class="inline-flex items-center">
				<Badge>DISPONIBLE PARA TRABAJAR</Badge>
			</a>
		</div>

		<h2 class="text-base md:text-lg lg:text-xl opacity-80 text-wrap max-w-full">
			<span class="text-yellow-300">Desarrollador Web Junior</span> con conocimientos prácticos en HTML, CSS y JavaScript. 
			<span class="text-red-300/90">De Maracaibo, Venezuela.</span> Bienvenido a mi espacio de trabajo personal 
			<span class="opacity-80">donde las ideas cobran vida.</span>
		</h2>

		<nav class="flex flex-col sm:flex-row gap-3 md:gap-4 mt-6 md:mt-4">
			<Pill href="https://www.linkedin.com/in/tavovidal">
				<LinkedInIcon class="size-4 md:size-6"/>
				LinkedIn
			</Pill>
			<Pill href="https://github.com/tavoidkk">
				<GitHubIcon class="size-4 md:size-6"/>
				GitHub
			</Pill>
			<Pill href="mailto:gvidal0307@gmail.com">
				<GmailIcon class="size-4 md:size-6"/>
				<span class="truncate">gvidal0307@gmail.com</span>
			</Pill>
		</nav>
	</section>

	<section id="experiencia" class="w-full max-w-xl mx-auto my-8 md:my-10 px-2 md:pl-4">
		<h2 class="text-2xl md:text-3xl font-bold mb-6 md:mb-10 text-white flex gap-x-2 items-center">
			<ExperienceIcon class="size-6 md:size-7"/>
			Experiencia Laboral
		</h2>
		<TimeLine>
			{experiences.map(exp => (
				<TimelineItem 
					date={exp.date}
					title={exp.title}
					company={exp.company}
					description={exp.description}
					href={exp.href}
				/>
			))}
		</TimeLine>
	</section>

	<section id="proyectos" class="w-full max-w-xl mx-auto my-8 md:my-10 px-2 md:pl-4">
		<h2 class="text-2xl md:text-3xl font-bold mb-6 md:mb-10 text-white flex gap-x-2 items-center">
			<CodeIcon class="size-6 md:size-8"/>
			Proyectos
		</h2>
		<Projects />
	</section>

	<section id="about" class="w-full max-w-xl mx-auto my-8 md:my-10 mb-16 px-2 md:pl-4 md:pr-0">
		<h2 class="text-2xl md:text-3xl font-bold mb-6 md:mb-10 text-white flex gap-x-2 items-center">
			<PersonIcon class="size-6 md:size-8"/>
			Sobre mí
		</h2>
		<About />
	</section>
</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.remove('opacity-0', 'translate-y-8');
        entry.target.classList.add('opacity-100', 'translate-y-0');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.2 });

  document.querySelectorAll('.project-animate').forEach(el => observer.observe(el));
});
</script>

<style>
@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(40px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in-up {
    animation: fade-in-up 1s cubic-bezier(.39,.575,.565,1) both;
}

.delay-200 {
    animation-delay: .2s;
}

/* Mejoras adicionales para móvil */
@media (max-width: 640px) {
    h1 {
        line-height: 1.3;
    }
    
    h2 {
        line-height: 1.5;
    }
}
</style>